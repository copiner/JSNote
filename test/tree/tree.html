<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
const dataTree = [
        {id: 1, name: '超级管理', parentId: 0},
        {id: 2, name: '用户管理', parentId: 1},
        {id: 3, name: '部门管理', parentId: 1},
        {id: 4, name: '日志管理', parentId: 1},
        {id: 5, name: '操作用户', parentId: 2},
        {id: 6, name: '查看用户', parentId: 2},
        {id: 7, name: '用户新增', parentId: 5},
        {id: 8, name: '用户删除', parentId: 5},
        {id: 9, name: '用户修改', parentId: 5},
        {id: 10, name: '操控部门', parentId: 3},
        {id: 11, name: '查看部门', parentId: 3},
        {id: 12, name: '部门新增', parentId: 10},
        {id: 13, name: '部门删除', parentId: 10},
        {id: 14, name: '部门修改', parentId: 10},
        {id: 15, name: '日志查看', parentId: 4},
        {id: 16, name: '日志导出', parentId: 4},
    ]
    function cloneData(data, parentId = 0) {
        let tree = [];//新建空数组
        //遍历每条数据
        data.map((item) => {
            //每条数据中的和parentId和传入的相同
            if (item.parentId == parentId) {
                //就去找这个元素的子集去  找到元素中parentId==item.id 这样层层递归
                item.children = cloneData(data, item.id);
                tree.push(item);
            }
        })
        return tree
    }
    console.log(cloneData(dataTree, 0));
</script>
